<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Switch Models</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
          integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
</head>
<body>
<div class="container">
    <div class="row">
        <div class="col-md-6">
            <h2>All switch models:</h2>
            <p id="demo"></p>
        </div>
    </div>
</div>
<script>
    let myObj, txt="", x;
    xmlhttp = new XMLHttpRequest();
    xmlhttp.onreadystatechange = function () {
        if (this.readyState === 4 && this.status === 200) {
            myObj = JSON.parse(this.responseText);
            txt += "<table class='table table-striped table-hover'><thead><tr class='bg-info'>" +
                "<th><b>ID</b></th>" +
                "<th><b>Vendor</b></th>" +
                "<th><b>Model name</b></th>" +
                "<th><b>Ports</b></th>" +
                "<th><b>Street</b></th>" +
                "<th><b>IP adress</b></th>" +
                "<th><b>MAC</b></th>" +
                "<th><b>Active</b></th></tr></thead>";
            for (x in myObj) {
                txt += "<tr><th>" + myObj[x].id + "</th>" +
                    "<td>" + myObj[x].switch_vendor + "</td>" +
                    "<td>" + myObj[x].title + "</td>" +
                    "<td>" + myObj[x].ports + "</td>" +
                    "<td>" + myObj[x].user_place.street + "</td>" +
                    "<td>" + myObj[x].user_place.ip + "</td>" +
                    "<td>" + myObj[x].user_place.mac + "</td>" +
                    "<td>" + myObj[x].user_place.active + "</td></tr>";
            }
            txt += "</table>";
            document.getElementById("demo").innerHTML = txt;
        }
    };
    xmlhttp.open("GET", "/app/api/switch_models/", true);
    xmlhttp.send();
</script>
</body>
</html>

